{"ast":null,"code":"import _defineProperty from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/cvoisin/Repos/actandcaredev/src/Components/Signup/Signup.js\";\nimport React from 'react';\nimport './Signin.css';\nimport listespecialite from '../../Jasons/listespecialite.json';\nimport listeregions1 from '../../Jasons/regions.json';\n\nvar Signup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Signup, _React$Component);\n\n  function Signup(props) {\n    var _this;\n\n    _classCallCheck(this, Signup);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Signup).call(this, props));\n    _this.state = {\n      filteredVilles: [{\n        \"nom\": \"Choisir une ville\",\n        \"region\": {\n          \"nom\": \"\"\n        }\n      }],\n      filteredRegions: listeregions1\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  } /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //Ville & région\n\n\n  _createClass(Signup, [{\n    key: \"displayVilles\",\n    value: function displayVilles() {\n      return this.state.filteredVilles.map(function (ville) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20\n          },\n          __self: this\n        }, ville.nom);\n      });\n    }\n  }, {\n    key: \"displayRegions\",\n    value: function displayRegions() {\n      return this.state.filteredRegions.map(function (region) {\n        return React.createElement(\"option\", {\n          code: region.code,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25\n          },\n          __self: this\n        }, region.nom);\n      });\n    }\n  }, {\n    key: \"handleChangeRegion\",\n    value: function handleChangeRegion(event) {\n      var _this2 = this;\n\n      var index = event.target.selectedIndex;\n      var optionElement = event.target.childNodes[index];\n      var region_code = optionElement.getAttribute('code');\n      this.setState({\n        region_code: region_code,\n        region_selected: event.target.value\n      }, function () {\n        _this2.loadCities();\n      });\n    }\n  }, {\n    key: \"handleChangeVille\",\n    value: function handleChangeVille(event) {\n      var _this3 = this;\n\n      //if(event.target.value=\"\")this.setState({   filteredVilles: [{ \"nom\": \"Choisir une ville\", \"region\":{\"nom\":\"\"}}],})\n      this.setState({\n        ville_nom: event.target.value\n      }, function () {\n        _this3.loadCities_2(event);\n      });\n    }\n  }, {\n    key: \"handleVilleSelection\",\n    value: function handleVilleSelection(event) {\n      this.setState({\n        region_selected: [this.state.filteredVilles[event.target.selectedIndex].region.nom],\n        ville_selected: event.target.value\n      });\n      this.getnomdusite();\n    }\n  }, {\n    key: \"loadCities\",\n    value: function loadCities() {\n      var _this4 = this;\n\n      fetch(\"https://geo.api.gouv.fr/communes?codeRegion=\".concat(this.state.region_code, \"&fields=nom,codeRegion,region&format=json\")).then(function (result) {\n        return result.json();\n      }).then(function (regionVilles) {\n        return _this4.setState({\n          regionVilles: regionVilles,\n          filteredVilles: regionVilles\n        });\n      });\n    }\n  }, {\n    key: \"loadCities_2\",\n    value: function loadCities_2(event) {\n      var _this5 = this;\n\n      fetch(\"https://geo.api.gouv.fr/communes?nom=\".concat(this.state.ville_nom, \"&fields=nom,region&format=json\")).then(function (result) {\n        return result.json();\n      }).then(function (villeVilles) {\n        var region_selected;\n        var ville_selected;\n        console.log(villeVilles);\n\n        if (villeVilles[0] !== undefined) {\n          region_selected = villeVilles[0].region.nom;\n          ville_selected = villeVilles[0].nom;\n        } else {\n          region_selected = \"\";\n          ville_selected = \"\";\n        }\n\n        _this5.setState({\n          regionVilles: villeVilles,\n          filteredVilles: villeVilles,\n          region_selected: region_selected,\n          ville_selected: ville_selected\n        });\n      });\n    } // N'est pris en compte qu'avec la boucle choix région puis choix ville:\n\n  }, {\n    key: \"filterVilles\",\n    value: function filterVilles(event) {\n      var filteredVilles = this.state.regionVilles;\n      filteredVilles = filteredVilles.filter(function (city) {\n        return city[\"nom\"].toUpperCase().indexOf(event.target.value.toUpperCase()) !== -1;\n      }); //let  filteredRegions=[{ \"nom\": \"....\", \"code\":\"\" }]\n\n      this.setState({\n        filteredVilles: filteredVilles\n      });\n    } ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    }\n  }, {\n    key: \"optionslistespecialite\",\n    value: function optionslistespecialite() {\n      return listespecialite.map(function (listespecialite) {\n        return React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, listespecialite);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        id: \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"Compl\\xE9ter le profile:\"), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"specialite\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Date de naissance\"))), React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"date\",\n        class: \"form-control\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"specialite\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Rue et num\\xE9ro\"))), React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        placeholder: \"Ex: 37 Quai de Grenelle\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Ville\")), React.createElement(\"input\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"ville\",\n        value: this.state.ville_nom,\n        onChange: this.handleChangeVille,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(\"select\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"ville\",\n        value: this.state.ville_selected,\n        onChange: this.handleVilleSelection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, this.displayVilles())), React.createElement(\"div\", {\n        class: \"form-group col-md-6 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"R\\xE9gion\")), React.createElement(\"select\", {\n        type: \"text\",\n        class: \"form-control\",\n        name: \"region\",\n        value: this.state.region_selected,\n        onChange: this.handleChangeRegion,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, this.displayRegions()))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"specialite\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \"Num\\xE9ro de t\\xE9l\\xE9phone portable\"))), React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"tel\",\n        class: \"form-control\",\n        placeholder: \"Ex: 0645326789\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"specialite\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, \"Sp\\xE9cialit\\xE9\"))), React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"select\", {\n        type: \"text\",\n        class: \"form-control\",\n        value: this.state.specialite,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, this.optionslistespecialite())))), React.createElement(\"div\", {\n        class: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"specialite\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, \"Num\\xE9ro RPPS\"))), React.createElement(\"div\", {\n        class: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"number\",\n        class: \"form-control\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })))))) // <div id=\"firebaseui-auth-container\"></div>\n      ;\n    }\n  }]);\n\n  return Signup;\n}(React.Component);\n\nexport { Signup as default };","map":{"version":3,"sources":["/Users/cvoisin/Repos/actandcaredev/src/Components/Signup/Signup.js"],"names":["React","listespecialite","listeregions1","Signup","props","state","filteredVilles","filteredRegions","handleChange","bind","map","ville","nom","region","code","event","index","target","selectedIndex","optionElement","childNodes","region_code","getAttribute","setState","region_selected","value","loadCities","ville_nom","loadCities_2","ville_selected","getnomdusite","fetch","then","result","json","regionVilles","villeVilles","console","log","undefined","filter","city","toUpperCase","indexOf","name","handleChangeVille","handleVilleSelection","displayVilles","handleChangeRegion","displayRegions","specialite","optionslistespecialite","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Signin.css'\r\nimport listespecialite from '../../Jasons/listespecialite.json'\r\nimport listeregions1 from '../../Jasons/regions.json'\r\n\r\nexport default class Signup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      filteredVilles: [{ \"nom\": \"Choisir une ville\", \"region\": { \"nom\": \"\" } }],\r\n      filteredRegions: listeregions1\r\n    }\r\n    this.handleChange=this.handleChange.bind(this)\r\n    \r\n  }\r\n  /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  //Ville & région\r\n  displayVilles() {\r\n    return this.state.filteredVilles.map((ville) =>\r\n      <option>{ville.nom}</option>\r\n    )\r\n  }\r\n  displayRegions() {\r\n    return this.state.filteredRegions.map((region) =>\r\n      <option code={region.code}>{region.nom}</option>\r\n    )\r\n  }\r\n  handleChangeRegion(event) {\r\n    var index = event.target.selectedIndex;\r\n    var optionElement = event.target.childNodes[index]\r\n    var region_code = optionElement.getAttribute('code');\r\n\r\n    this.setState({ region_code, region_selected: event.target.value }, () => {\r\n      this.loadCities()\r\n    })\r\n  }\r\n  handleChangeVille(event) {\r\n    //if(event.target.value=\"\")this.setState({   filteredVilles: [{ \"nom\": \"Choisir une ville\", \"region\":{\"nom\":\"\"}}],})\r\n    this.setState({ ville_nom: event.target.value }, () => {\r\n      this.loadCities_2(event)\r\n    })\r\n  }\r\n  handleVilleSelection(event) {\r\n    this.setState({\r\n      region_selected: [this.state.filteredVilles[event.target.selectedIndex].region.nom],\r\n      ville_selected: event.target.value\r\n    })\r\n    this.getnomdusite()\r\n  }\r\n  loadCities() {\r\n    fetch(`https://geo.api.gouv.fr/communes?codeRegion=${this.state.region_code}&fields=nom,codeRegion,region&format=json`)\r\n      .then(result => result.json())\r\n      .then(regionVilles => this.setState({ regionVilles: regionVilles, filteredVilles: regionVilles }));\r\n  }\r\n  loadCities_2(event) {\r\n    fetch(`https://geo.api.gouv.fr/communes?nom=${this.state.ville_nom}&fields=nom,region&format=json`)\r\n      .then(result => result.json())\r\n      .then(villeVilles => {\r\n        let region_selected\r\n        let ville_selected\r\n        console.log(villeVilles)\r\n        if (villeVilles[0] !== undefined) {\r\n          region_selected = villeVilles[0].region.nom\r\n          ville_selected = villeVilles[0].nom\r\n        }\r\n        else{\r\n          region_selected=\"\"\r\n          ville_selected =\"\"\r\n        }\r\n\r\n        this.setState({ regionVilles: villeVilles, filteredVilles: villeVilles, region_selected, ville_selected })\r\n      });\r\n  }\r\n\r\n  // N'est pris en compte qu'avec la boucle choix région puis choix ville:\r\n  filterVilles(event) {\r\n    let filteredVilles = this.state.regionVilles;\r\n    filteredVilles = filteredVilles.filter(\r\n      (city) => {\r\n        return city[\"nom\"].toUpperCase().indexOf(event.target.value.toUpperCase()) !== -1;\r\n      }\r\n    );\r\n    //let  filteredRegions=[{ \"nom\": \"....\", \"code\":\"\" }]\r\n    this.setState({ filteredVilles })\r\n  }\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n  handleChange(event){\r\n    this.setState({[event.target.name]: event.target.value});\r\n  }\r\n\r\n\r\n  optionslistespecialite() { return listespecialite.map(listespecialite => {\r\n    return (\r\n      <option >{listespecialite}</option>\r\n    )\r\n  })}\r\n\r\n\r\n  render() {\r\n    return (\r\n\r\n      <div id=\"wrapper\">\r\n        <form id=\"login\">\r\n          <h2>Compléter le profile:</h2>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"specialite\"><b>Date de naissance</b></label>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <input type=\"date\" class=\"form-control\" onChange={this.handleChange}></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"specialite\"><b>Rue et numéro</b></label>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n              <input type=\"text\" class=\"form-control\" placeholder=\"Ex: 37 Quai de Grenelle\" onChange={this.handleChange}></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-row\">\r\n              <div class=\"form-group col-md-6\">\r\n                <label><b>Ville</b></label>\r\n                <input type=\"text\" class=\"form-control\" name=\"ville\" value={this.state.ville_nom} onChange={this.handleChangeVille}></input>\r\n                <select type=\"text\" class=\"form-control\" name=\"ville\" value={this.state.ville_selected} onChange={this.handleVilleSelection}>\r\n                  {this.displayVilles()}\r\n                </select>\r\n              </div>\r\n              <div class=\"form-group col-md-6 \">\r\n                <label><b>Région</b></label>\r\n                <select type=\"text\" class=\"form-control\" name=\"region\" value={this.state.region_selected} onChange={this.handleChangeRegion}  >\r\n                  {/* <select type=\"text\" class=\"form-control\" name=\"region\" value={this.state.region}  > */}\r\n                  {this.displayRegions()}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"specialite\"><b>Numéro de téléphone portable</b></label>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n              <input type=\"tel\" class=\"form-control\" placeholder=\"Ex: 0645326789\" onChange={this.handleChange}></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"specialite\"><b>Spécialité</b></label>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n              <select type=\"text\" class=\"form-control\" value={this.state.specialite} onChange={this.handleChange} >\r\n                {this.optionslistespecialite()}\r\n              </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <div class=\"form-row\">\r\n              <div class=\"col-md-6\">\r\n                <label for=\"specialite\"><b>Numéro RPPS</b></label>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n              <input type=\"number\" class=\"form-control\" onChange={this.handleChange}></input>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n      // <div id=\"firebaseui-auth-container\"></div>\r\n\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}