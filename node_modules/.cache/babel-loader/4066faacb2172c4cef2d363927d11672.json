{"ast":null,"code":"\"use strict\";\n/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * EDITING INSTRUCTIONS\n * This file was generated from the file\n * https://github.com/googleapis/googleapis/blob/master/google/longrunning/operations.proto,\n * and updates to that file get reflected here through a refresh process.\n * For the short term, the refresh process will only be runnable by Google\n * engineers.\n *\n * The only allowed edits are to method and file documentation. A 3-way\n * merge preserves those additions if the generated source changes.\n */\n\nvar _classCallCheck = require(\"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/cvoisin/Repos/actandcaredev/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar google_proto_files_1 = require(\"google-proto-files\");\n\nvar apiCallable = require(\"./api_callable\");\n\nvar gax = require(\"./gax\");\n\nvar pagedIteration = require(\"./paged_iteration\");\n\nvar pathTemplate = require(\"./path_template\");\n\nvar configData = require('./operations_client_config');\n\nObject.assign(gax, apiCallable);\nObject.assign(gax, pathTemplate);\nObject.assign(gax, pagedIteration);\nexports.SERVICE_ADDRESS = 'longrunning.googleapis.com';\nvar DEFAULT_SERVICE_PORT = 443;\nvar CODE_GEN_NAME_VERSION = 'gapic/0.7.1';\nvar PAGE_DESCRIPTORS = {\n  listOperations: new gax['PageDescriptor']('pageToken', 'nextPageToken', 'operations')\n};\n/**\n * The scopes needed to make gRPC calls to all of the methods defined in\n * this service.\n */\n\nexports.ALL_SCOPES = [];\n/**\n * Manages long-running operations with an API service.\n *\n * When an API method normally takes long time to complete, it can be designed\n * to return {@link Operation} to the client, and the client can use this\n * interface to receive the real response asynchronously by polling the\n * operation resource, or pass the operation resource to another API (such as\n * Google Cloud Pub/Sub API) to receive the response.  Any API service that\n * returns long-running operations should implement the `Operations` interface\n * so developers can have a consistent client experience.\n *\n * This will be created through a builder function which can be obtained by the\n * module. See the following example of how to initialize the module and how to\n * access to the builder.\n * @see {@link operationsClient}\n *\n * @class\n */\n\nvar OperationsClient =\n/*#__PURE__*/\nfunction () {\n  function OperationsClient(gaxGrpc, grpcClients, opts) {\n    _classCallCheck(this, OperationsClient);\n\n    opts = Object.assign({\n      servicePath: exports.SERVICE_ADDRESS,\n      port: DEFAULT_SERVICE_PORT,\n      clientConfig: {}\n    }, opts);\n    var googleApiClient = ['gl-node/' + process.versions.node];\n\n    if (opts.libName && opts.libVersion) {\n      googleApiClient.push(opts.libName + '/' + opts.libVersion);\n    }\n\n    googleApiClient.push(CODE_GEN_NAME_VERSION, 'gax/' + gax['version'], 'grpc/' + gaxGrpc.grpcVersion);\n    var defaults = gaxGrpc.constructSettings('google.longrunning.Operations', configData, opts.clientConfig, {\n      'x-goog-api-client': googleApiClient.join(' ')\n    });\n    var self = this;\n    this.auth = gaxGrpc.auth;\n    var operationsStub = gaxGrpc.createStub(grpcClients.google.longrunning.Operations, opts);\n    var operationsStubMethods = ['getOperation', 'listOperations', 'cancelOperation', 'deleteOperation'];\n    operationsStubMethods.forEach(function (methodName) {\n      self['_' + methodName] = gax['createApiCall'](operationsStub.then(function (operationsStub) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          return operationsStub[methodName].apply(operationsStub, args);\n        };\n      }), defaults[methodName], PAGE_DESCRIPTORS[methodName]);\n    });\n  }\n  /**\n   * Get the project ID used by this class.\n   * @aram {function(Error, string)} callback - the callback to be called with\n   *   the current project Id.\n   */\n\n\n  _createClass(OperationsClient, [{\n    key: \"getProjectId\",\n    value: function getProjectId(callback) {\n      return this.auth.getProjectId(callback);\n    } // Service calls\n\n    /**\n     * Gets the latest state of a long-running operation.  Clients can use this\n     * method to poll the operation result at intervals as recommended by the API\n     * service.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The name of the operation resource.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error, ?Object)=} callback\n     *   The function which will be called with the result of the API call.\n     *\n     *   The second parameter to the callback is an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     * @return {Promise} - The promise which resolves to an array.\n     *   The first element of the array is an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}. The promise has a method named\n     * \"cancel\" which cancels the ongoing API call.\n     *\n     * @example\n     *\n     * var client = longrunning.operationsClient();\n     * var name = '';\n     * client.getOperation({name: name}).then(function(responses) {\n     *     var response = responses[0];\n     *     // doThingsWith(response)\n     * }).catch(function(err) {\n     *     console.error(err);\n     * });\n     */\n\n  }, {\n    key: \"getOperation\",\n    value: function getOperation(request, options, callback) {\n      if (options instanceof Function && callback === undefined) {\n        callback = options;\n        options = {};\n      }\n\n      if (options === undefined) {\n        options = {};\n      }\n\n      return this['_getOperation'](request, options, callback);\n    }\n    /**\n     * Lists operations that match the specified filter in the request. If the\n     * server doesn't support this method, it returns `UNIMPLEMENTED`.\n     *\n     * NOTE: the `name` binding below allows API services to override the binding\n     * to use different resource name schemes.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The name of the operation collection.\n     * @param {string} request.filter\n     *   The standard list filter.\n     * @param {number=} request.pageSize\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error, ?Array, ?Object, ?Object)=} callback\n     *   The function which will be called with the result of the API call.\n     *\n     *   The second parameter to the callback is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     *\n     *   When autoPaginate: false is specified through options, it contains the\n     * result in a single response. If the response indicates the next page\n     * exists, the third parameter is set to be used for the next request object.\n     * The fourth parameter keeps the raw response object of an object\n     * representing [google.longrunning.ListOperationsResponse]{@link\n     * external:\"google.longrunning.ListOperationsResponse\"}.\n     * @return {Promise} - The promise which resolves to an array.\n     *   The first element of the array is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"}.\n     *\n     *   When autoPaginate: false is specified through options, the array has\n     * three elements. The first element is Array of\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"} in a single response. The second\n     * element is the next request object if the response indicates the next page\n     * exists, or null. The third element is an object representing\n     * [google.longrunning.ListOperationsResponse]{@link\n     * external:\"google.longrunning.ListOperationsResponse\"}.\n     *\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * var client = longrunning.operationsClient();\n     * var name = '';\n     * var filter = '';\n     * var request = {\n     *     name: name,\n     *     filter: filter\n     * };\n     * // Iterate over all elements.\n     * client.listOperations(request).then(function(responses) {\n     *     var resources = responses[0];\n     *     for (var i = 0; i < resources.length; ++i) {\n     *         // doThingsWith(resources[i])\n     *     }\n     * }).catch(function(err) {\n     *     console.error(err);\n     * });\n     *\n     * // Or obtain the paged response.\n     * var options = {autoPaginate: false};\n     * function callback(responses) {\n     *     // The actual resources in a response.\n     *     var resources = responses[0];\n     *     // The next request if the response shows there's more responses.\n     *     var nextRequest = responses[1];\n     *     // The actual response object, if necessary.\n     *     // var rawResponse = responses[2];\n     *     for (var i = 0; i < resources.length; ++i) {\n     *         // doThingsWith(resources[i]);\n     *     }\n     *     if (nextRequest) {\n     *         // Fetch the next page.\n     *         return client.listOperations(nextRequest, options).then(callback);\n     *     }\n     * }\n     * client.listOperations(request, options)\n     *     .then(callback)\n     *     .catch(function(err) {\n     *         console.error(err);\n     *     });\n     */\n\n  }, {\n    key: \"listOperations\",\n    value: function listOperations(request, options, callback) {\n      if (options instanceof Function && callback === undefined) {\n        callback = options;\n        options = {};\n      }\n\n      if (options === undefined) {\n        options = {};\n      }\n\n      return this['_listOperations'](request, options, callback);\n    }\n    /**\n     * Equivalent to {@link listOperations}, but returns a NodeJS Stream object.\n     *\n     * This fetches the paged responses for {@link listOperations} continuously\n     * and invokes the callback registered for 'data' event for each element in\n     * the responses.\n     *\n     * The returned object has 'end' method when no more elements are required.\n     *\n     * autoPaginate option will be ignored.\n     *\n     * @see {@link https://nodejs.org/api/stream.html}\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The name of the operation collection.\n     * @param {string} request.filter\n     *   The standard list filter.\n     * @param {number=} request.pageSize\n     *   The maximum number of resources contained in the underlying API\n     *   response. If page streaming is performed per-resource, this\n     *   parameter does not affect the return value. If page streaming is\n     *   performed per-page, this determines the maximum number of\n     *   resources in a page.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @return {Stream}\n     *   An object stream which emits an object representing\n     * [google.longrunning.Operation]{@link\n     * external:\"google.longrunning.Operation\"} on 'data' event.\n     *\n     * @example\n     *\n     * var client = longrunning.operationsClient();\n     * var name = '';\n     * var filter = '';\n     * var request = {\n     *     name: name,\n     *     filter: filter\n     * };\n     * client.listOperationsStream(request).on('data', function(element) {\n     *     // doThingsWith(element)\n     * }).on('error', function(err) {\n     *     console.error(err);\n     * });\n     */\n\n  }, {\n    key: \"listOperationsStream\",\n    value: function listOperationsStream(request, options) {\n      if (options === undefined) {\n        options = {};\n      }\n\n      return PAGE_DESCRIPTORS.listOperations.createStream(this['_listOperations'], request, options);\n    }\n    /**\n     * Starts asynchronous cancellation on a long-running operation.  The server\n     * makes a best effort to cancel the operation, but success is not\n     * guaranteed.  If the server doesn't support this method, it returns\n     * `google.rpc.Code.UNIMPLEMENTED`.  Clients can use\n     * {@link Operations.GetOperation} or\n     * other methods to check whether the cancellation succeeded or whether the\n     * operation completed despite cancellation. On successful cancellation,\n     * the operation is not deleted; instead, it becomes an operation with\n     * an {@link Operation.error} value with a {@link google.rpc.Status.code} of\n     * 1, corresponding to `Code.CANCELLED`.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The name of the operation resource to be cancelled.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error)=} callback\n     *   The function which will be called with the result of the API call.\n     * @return {Promise} - The promise which resolves when API call finishes.\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * var client = longrunning.operationsClient();\n     * var name = '';\n     * client.cancelOperation({name: name}).catch(function(err) {\n     *     console.error(err);\n     * });\n     */\n\n  }, {\n    key: \"cancelOperation\",\n    value: function cancelOperation(request, options, callback) {\n      if (options instanceof Function && callback === undefined) {\n        callback = options;\n        options = {};\n      }\n\n      if (options === undefined) {\n        options = {};\n      }\n\n      return this['_cancelOperation'](request, options, callback);\n    }\n    /**\n     * Deletes a long-running operation. This method indicates that the client is\n     * no longer interested in the operation result. It does not cancel the\n     * operation. If the server doesn't support this method, it returns\n     * `google.rpc.Code.UNIMPLEMENTED`.\n     *\n     * @param {Object} request\n     *   The request object that will be sent.\n     * @param {string} request.name\n     *   The name of the operation resource to be deleted.\n     * @param {Object=} options\n     *   Optional parameters. You can override the default settings for this call,\n     * e.g, timeout, retries, paginations, etc. See [gax.CallOptions]{@link\n     * https://googleapis.github.io/gax-nodejs/global.html#CallOptions} for the\n     * details.\n     * @param {function(?Error)=} callback\n     *   The function which will be called with the result of the API call.\n     * @return {Promise} - The promise which resolves when API call finishes.\n     *   The promise has a method named \"cancel\" which cancels the ongoing API\n     * call.\n     *\n     * @example\n     *\n     * var client = longrunning.operationsClient();\n     * var name = '';\n     * client.deleteOperation({name: name}).catch(function(err) {\n     *     console.error(err);\n     * });\n     */\n\n  }, {\n    key: \"deleteOperation\",\n    value: function deleteOperation(request, options, callback) {\n      if (options instanceof Function && callback === undefined) {\n        callback = options;\n        options = {};\n      }\n\n      if (options === undefined) {\n        options = {};\n      }\n\n      return this['_deleteOperation'](request, options, callback);\n    }\n  }]);\n\n  return OperationsClient;\n}();\n\nexports.OperationsClient = OperationsClient;\n\nvar OperationsClientBuilder = function OperationsClientBuilder(gaxGrpc) {\n  _classCallCheck(this, OperationsClientBuilder);\n\n  var protoFilesRoot = google_proto_files_1.getProtoPath('..');\n  var operationsClient = gaxGrpc.loadProto(protoFilesRoot, 'google/longrunning/operations.proto');\n  Object.assign(this, operationsClient.google.longrunning);\n  /**\n   * Build a new instance of {@link OperationsClient}.\n   *\n   * @param {Object=} opts - The optional parameters.\n   * @param {String=} opts.servicePath\n   *   The domain name of the API remote host.\n   * @param {number=} opts.port\n   *   The port on which to connect to the remote host.\n   * @param {grpc.ClientCredentials=} opts.sslCreds\n   *   A ClientCredentials for use with an SSL-enabled channel.\n   * @param {Object=} opts.clientConfig\n   *   The customized config to build the call settings. See\n   *   {@link gax.constructSettings} for the format.\n   */\n\n  this['operationsClient'] = function (opts) {\n    return new OperationsClient(gaxGrpc, operationsClient, opts);\n  };\n\n  Object.assign(this['operationsClient'], OperationsClient);\n};\n\nexports.OperationsClientBuilder = OperationsClientBuilder;","map":null,"metadata":{},"sourceType":"script"}