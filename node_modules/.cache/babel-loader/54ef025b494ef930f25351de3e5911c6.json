{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Arthur\\\\Documents\\\\UI_PROJECT\\\\src\\\\Components\\\\Stats\\\\Stats.js\";\nimport React from 'react';\nimport './Stats.css';\nimport BarExample from './bar';\nimport LineExample from './Line';\nimport data from '../../stats.json';\nimport HorizontalBarExample from './HorizontalBars';\nimport { SlideToggle } from 'react-slide-toggle';\n\nvar Stats =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Stats, _React$Component);\n\n  function Stats(props) {\n    var _this;\n\n    _classCallCheck(this, Stats);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Stats).call(this, props));\n    _this.state = {\n      chartData: {},\n      chartData2: {},\n      statsvisiteurs: data,\n      id: \"\",\n      date: \"\",\n      visite: \" \",\n      recette: \" \"\n    };\n    _this.handledateChange = _this.handledateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlevisiteChange = _this.handlevisiteChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlerecetteChange = _this.handlerecetteChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Stats, [{\n    key: \"handledateChange\",\n    value: function handledateChange(event) {\n      this.setState({\n        date: event.target.value\n      });\n    }\n  }, {\n    key: \"handlevisiteChange\",\n    value: function handlevisiteChange(event) {\n      this.setState({\n        visite: event.target.value\n      });\n    }\n  }, {\n    key: \"handlerecetteChange\",\n    value: function handlerecetteChange(event) {\n      this.setState({\n        recette: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      e.preventDefault();\n      var statsvisiteurs = this.state.statsvisiteurs;\n      var newItem = {\n        \"id\": this.state.id,\n        \"date\": this.state.date,\n        \"visite\": this.state.visite,\n        \"recette\": this.state.recette\n      };\n      statsvisiteurs.push(newItem);\n      this.setState({\n        statsvisiteurs: statsvisiteurs\n      });\n      this.setState({\n        id: \"\",\n        date: \"\",\n        visite: \"\",\n        recette: \"\"\n      });\n      this.setState({\n        chartData: {}\n      });\n      this.getChartData();\n      this.getChartData2();\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getChartData();\n      this.getChartData2();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.timerID = setInterval(function () {\n        return _this2.tick();\n      }, 500);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.timerID);\n    }\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      this.getChartData();\n      this.getChartData2();\n    }\n  }, {\n    key: \"getChartData\",\n    value: function getChartData() {\n      var statsvisiteurs;\n      var datetab = [];\n      var visitetab = [];\n      statsvisiteurs = this.state.statsvisiteurs.map(function (statsvisiteur) {\n        visitetab.push(statsvisiteur.visite);\n        datetab.push(statsvisiteur.date);\n      });\n      this.setState({\n        chartData: {\n          labels: datetab,\n          datasets: [{\n            label: 'Nombre de visites',\n            fill: false,\n            lineTension: 0.1,\n            backgroundColor: 'rgba(75,192,192,0.4)',\n            borderColor: 'rgba(75,192,192,1)',\n            borderCapStyle: 'butt',\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: 'miter',\n            pointBorderColor: 'rgba(75,192,192,1)',\n            pointBackgroundColor: '#fff',\n            pointBorderWidth: 1,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n            pointHoverBorderColor: 'rgba(220,220,220,1)',\n            pointHoverBorderWidth: 2,\n            pointRadius: 1,\n            pointHitRadius: 10,\n            data: visitetab\n          }]\n        }\n      });\n    }\n  }, {\n    key: \"getChartData2\",\n    value: function getChartData2() {\n      var statsvisiteurs;\n      var datetab = [];\n      var recettetab = [];\n      statsvisiteurs = this.state.statsvisiteurs.map(function (statsvisiteur) {\n        datetab.push(statsvisiteur.date);\n        recettetab.push(statsvisiteur.recette);\n      });\n      this.setState({\n        chartData2: {\n          labels: datetab,\n          datasets: [{\n            label: 'Recette (en Euros)',\n            backgroundColor: 'rgba(255,99,132,0.2)',\n            borderColor: 'rgba(255,99,132,1)',\n            borderWidth: 1,\n            hoverBackgroundColor: 'rgba(255,99,132,0.4)',\n            hoverBorderColor: 'rgba(255,99,132,1)',\n            data: recettetab\n          }]\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        class: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(LineExample, {\n        chartData: this.state.chartData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(BarExample, {\n        chartData2: this.state.chartData2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }))), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, \"Date\"), React.createElement(\"input\", {\n        type: \"date\",\n        value: this.state.date,\n        onChange: this.handledateChange,\n        class: \"form-control\",\n        id: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        class: \"form-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"visite\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Nombre de visites\"), React.createElement(\"input\", {\n        type: \"number\",\n        value: this.state.visite,\n        onChange: this.handlevisiteChange,\n        class: \"form-control\",\n        id: \"visite\",\n        placeholder: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"form-group col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"recette\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Recette de la journ\\xE9e\"), React.createElement(\"div\", {\n        class: \"input-group input-group-default mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        class: \"input-group-text\",\n        id: \"inputGroup-sizing-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"\\u20AC\")), React.createElement(\"input\", {\n        type: \"number\",\n        value: this.state.recette,\n        onChange: this.handlerecetteChange,\n        class: \"form-control\",\n        id: \"recette\",\n        placeholder: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })))), React.createElement(\"button\", {\n        type: \"submit\",\n        class: \"btn btn-md btn-block\",\n        id: \"addNewElement\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \" Ajouter \")), \")}\");\n    }\n  }]);\n\n  return Stats;\n}(React.Component);\n\nexport { Stats as default };","map":{"version":3,"sources":["C:\\Users\\Arthur\\Documents\\UI_PROJECT\\src\\Components\\Stats\\Stats.js"],"names":["React","BarExample","LineExample","data","HorizontalBarExample","SlideToggle","Stats","props","state","chartData","chartData2","statsvisiteurs","id","date","visite","recette","handledateChange","bind","handlevisiteChange","handlerecetteChange","event","setState","target","value","e","preventDefault","newItem","push","getChartData","getChartData2","timerID","setInterval","tick","clearInterval","datetab","visitetab","map","statsvisiteur","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","recettetab","borderWidth","hoverBackgroundColor","hoverBorderColor","handleSubmit","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Stats.css'\r\nimport BarExample from './bar';\r\nimport LineExample from './Line';\r\nimport data from '../../stats.json'\r\nimport HorizontalBarExample from './HorizontalBars';\r\nimport { SlideToggle } from 'react-slide-toggle';\r\n\r\n\r\n\r\nexport default class Stats extends React.Component {\r\n  constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          chartData: {},\r\n          chartData2: {},\r\n          statsvisiteurs: data,\r\n          id:\"\",\r\n          date:\"\",\r\n          visite:\" \",\r\n          recette:\" \"\r\n        };\r\n        this.handledateChange = this.handledateChange.bind(this);\r\n        this.handlevisiteChange = this.handlevisiteChange.bind(this);\r\n        this.handlerecetteChange = this.handlerecetteChange.bind(this);\r\n\r\n}\r\n\r\n        handledateChange(event) {\r\n          this.setState({date: event.target.value});\r\n        }\r\n\r\n        handlevisiteChange(event) {\r\n          this.setState({visite: event.target.value});\r\n        }\r\n        handlerecetteChange(event) {\r\n          this.setState({recette: event.target.value});\r\n        }\r\n\r\nhandleSubmit(e) {\r\n        e.preventDefault();\r\n        let statsvisiteurs = this.state.statsvisiteurs;\r\n        let newItem = {\r\n          \"id\":this.state.id,\r\n          \"date\":this.state.date,\r\n          \"visite\":this.state.visite,\r\n          \"recette\":this.state.recette\r\n        };\r\n        statsvisiteurs.push(newItem)\r\n        this.setState({statsvisiteurs: statsvisiteurs});\r\n        this.setState({id:\"\",date:\"\",visite:\"\",recette:\"\"});\r\n        this.setState({chartData: {}})\r\n        this.getChartData();\r\n        this.getChartData2();\r\n\r\n    }\r\n\r\n  componentWillMount(){\r\n    this.getChartData();\r\n    this.getChartData2();\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.timerID = setInterval(\r\n      () => this.tick(),\r\n      500\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.timerID);\r\n  }\r\n\r\n  tick() {\r\n    this.getChartData();\r\n    this.getChartData2();\r\n  }\r\n\r\n  getChartData(){\r\n\r\n    let statsvisiteurs;\r\n    let datetab = [];\r\n    let visitetab = [];\r\n\r\n    statsvisiteurs = this.state.statsvisiteurs.map(statsvisiteur => {\r\n    visitetab.push(statsvisiteur.visite);\r\n    datetab.push(statsvisiteur.date);\r\n    })\r\n\r\n    this.setState({\r\n        chartData:{\r\n          labels: datetab ,\r\n          datasets: [\r\n            {\r\n              label: 'Nombre de visites',\r\n              fill: false,\r\n              lineTension: 0.1,\r\n              backgroundColor: 'rgba(75,192,192,0.4)',\r\n              borderColor: 'rgba(75,192,192,1)',\r\n              borderCapStyle: 'butt',\r\n              borderDash: [],\r\n              borderDashOffset: 0.0,\r\n              borderJoinStyle: 'miter',\r\n              pointBorderColor: 'rgba(75,192,192,1)',\r\n              pointBackgroundColor: '#fff',\r\n              pointBorderWidth: 1,\r\n              pointHoverRadius: 5,\r\n              pointHoverBackgroundColor: 'rgba(75,192,192,1)',\r\n              pointHoverBorderColor: 'rgba(220,220,220,1)',\r\n              pointHoverBorderWidth: 2,\r\n              pointRadius: 1,\r\n              pointHitRadius: 10,\r\n              data : visitetab\r\n            }\r\n          ]\r\n        }\r\n      })\r\n\r\n\r\n  }\r\n\r\n  getChartData2(){\r\n\r\n    let statsvisiteurs;\r\n    let datetab = [];\r\n    let recettetab = [];\r\n\r\n    statsvisiteurs = this.state.statsvisiteurs.map(statsvisiteur => {\r\n    datetab.push(statsvisiteur.date);\r\n    recettetab.push(statsvisiteur.recette);\r\n    })\r\n\r\n    this.setState({\r\n          chartData2:{\r\n            labels: datetab,\r\n            datasets: [\r\n              {\r\n                label: 'Recette (en Euros)',\r\n                backgroundColor: 'rgba(255,99,132,0.2)',\r\n                borderColor: 'rgba(255,99,132,1)',\r\n                borderWidth: 1,\r\n                hoverBackgroundColor: 'rgba(255,99,132,0.4)',\r\n                hoverBorderColor: 'rgba(255,99,132,1)',\r\n                data: recettetab\r\n              }\r\n            ],\r\n\r\n          }\r\n      })\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n          <div class=\"container\">\r\n\r\n\r\n             <div class=\"form-row\">\r\n               <div class=\"form-group col-md-6\">\r\n                  <LineExample chartData={this.state.chartData}/>\r\n               </div>\r\n\r\n               <div class=\"form-group col-md-6\">\r\n                  <BarExample chartData2={this.state.chartData2}/>\r\n               </div>\r\n            </div>\r\n\r\n\r\n                <form onSubmit={this.handleSubmit.bind(this)}>\r\n                    <div class=\"form-row\">\r\n                      <div class=\"form-group col-md-12\">\r\n                      <label for=\"date\">Date</label>\r\n                      <input type=\"date\" value={this.state.date} onChange={this.handledateChange} class=\"form-control\" id=\"date\"/>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"form-row\">\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label for=\"visite\">Nombre de visites</label>\r\n                        <input type=\"number\" value={this.state.visite} onChange={this.handlevisiteChange} class=\"form-control\" id=\"visite\" placeholder=\"\"/>\r\n                      </div>\r\n\r\n                      <div class=\"form-group col-md-6\">\r\n                        <label for=\"recette\">Recette de la journée</label>\r\n                        <div class=\"input-group input-group-default mb-3\">\r\n                            <div class=\"input-group-prepend\">\r\n                              <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">€</span>\r\n                            </div>\r\n                              <input type=\"number\" value={this.state.recette} onChange={this.handlerecetteChange} class=\"form-control\" id=\"recette\" placeholder=\"0\"/>\r\n                        </div>\r\n                       </div>\r\n                    </div>\r\n\r\n                    <button type=\"submit\" class=\"btn btn-md btn-block\" id=\"addNewElement\" > Ajouter </button>\r\n               </form>\r\n               )}\r\n\r\n             </div>\r\n\r\n    );\r\n\r\n  }\r\n\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}